"use strict";var e=require("fs"),i=require("json-schema-to-typescript"),r=require("ajv/dist/standalone"),t=require("ajv"),s=require("terser");exports.validation=async a=>{await(async(r,t)=>{const s=e.readdirSync(r);let a="";for(const e of s)a+=await i.compileFromFile(r+"/"+e,{bannerComment:""});e.writeFileSync(t,a)})(a.schemaDirectory,a.typesOutFile),await(async(i,a)=>{const c=e.readdirSync(i).map((r=>JSON.parse(e.readFileSync(i+"/"+r).toString()))),o={};for(const e of c)o["is"+e.$id]=e.$id;const n=r(new t({strict:!0,schemas:c,code:{source:!0,esm:!0}}),o);e.writeFileSync(a,(await s.minify(n,{toplevel:!0,compress:{passes:2}})).code)})(a.schemaDirectory,a.validationOutFile)};
