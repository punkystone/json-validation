"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("fs"),t=require("json-schema-to-typescript"),r=require("ajv/dist/standalone"),i=require("ajv"),a=require("terser");function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=s(r),c=s(i);exports.validation=async r=>{await(async(r,i)=>{const a=e.readdirSync(r);let s="";for(const e of a)s+=await t.compileFromFile(r+"/"+e,{bannerComment:""});e.writeFileSync(i,s)})(r.schemaDirectory,r.typesOutFile),await(async(t,r)=>{const i=e.readdirSync(t).map((r=>JSON.parse(e.readFileSync(t+"/"+r).toString()))),s={};for(const e of i)s["is"+e.$id]=e.$id;const n=o.default(new c.default({strict:!0,schemas:i,code:{source:!0,esm:!0}}),s);e.writeFileSync(r,(await a.minify(n,{toplevel:!0,compress:{passes:2}})).code)})(r.schemaDirectory,r.validationOutFile)};
