"use strict";var u=Object.create;var n=Object.defineProperty;var $=Object.getOwnPropertyDescriptor;var v=Object.getOwnPropertyNames;var w=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty;var h=(t,e)=>{for(var o in e)n(t,o,{get:e[o],enumerable:!0})},m=(t,e,o,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of v(e))!F.call(t,i)&&i!==o&&n(t,i,{get:()=>e[i],enumerable:!(r=$(e,i))||r.enumerable});return t};var c=(t,e,o)=>(o=t!=null?u(w(t)):{},m(e||!t||!t.__esModule?n(o,"default",{value:t,enumerable:!0}):o,t)),O=t=>m(n({},"__esModule",{value:!0}),t);var V={};h(V,{validation:()=>S});module.exports=O(V);var s=require("fs"),p=require("json-schema-to-typescript"),d=c(require("ajv/dist/standalone")),l=c(require("ajv")),g=require("terser"),f=async(t,e)=>{let o=(0,s.readdirSync)(t),r="";for(let i of o)r+=await(0,p.compileFromFile)(`${t}/${i}`,{bannerComment:""});(0,s.writeFileSync)(e,r)},y=async(t,e)=>{let o=(0,s.readdirSync)(t).map(a=>JSON.parse((0,s.readFileSync)(`${t}/${a}`).toString())),r={};for(let a of o)r[`is${a.$id}`]=a.$id;let i=(0,d.default)(new l.default({strict:!0,schemas:o,code:{source:!0,esm:!0}}),r);(0,s.writeFileSync)(e,(await(0,g.minify)(i,{toplevel:!0,compress:{passes:2}})).code)};var S=async t=>{await f(t.schemaDirectory,t.typesOutFile),await y(t.schemaDirectory,t.validationOutFile)};0&&(module.exports={validation});
